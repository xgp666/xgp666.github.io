<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>MySQL高级查询 | Xgp &amp; Blog</title><meta name="description" content="回想 123456select studentNo, studentName, sex, gradeNamefrom student s,grade gwhere s.gradeId &#x3D; g.gradeID;select studentNo,studentName,sex,gradeNamefrom student s join grade gon s.gradeId &#x3D; g."><meta name="keywords" content="sql结构化查询语句,数值类型"><meta name="author" content="Wu Shao Dong"><meta name="copyright" content="Wu Shao Dong"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="https://gitee.com/xgpqq/tuchuang/raw/master/img/Yun.png"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://hm.baidu.com"/><link rel="dns-prefetch" href="https://hm.baidu.com"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="rPK0WSwqdm"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="MySQL高级查询"><meta name="twitter:description" content="回想 123456select studentNo, studentName, sex, gradeNamefrom student s,grade gwhere s.gradeId &#x3D; g.gradeID;select studentNo,studentName,sex,gradeNamefrom student s join grade gon s.gradeId &#x3D; g."><meta name="twitter:image" content="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (99).jpg"><meta property="og:type" content="article"><meta property="og:title" content="MySQL高级查询"><meta property="og:url" content="https://wsdlxgp.top/posts/98ba.html"><meta property="og:site_name" content="Xgp &amp; Blog"><meta property="og:description" content="回想 123456select studentNo, studentName, sex, gradeNamefrom student s,grade gwhere s.gradeId &#x3D; g.gradeID;select studentNo,studentName,sex,gradeNamefrom student s join grade gon s.gradeId &#x3D; g."><meta property="og:image" content="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (99).jpg"><meta property="article:published_time" content="2020-06-04T16:00:00.000Z"><meta property="article:modified_time" content="2020-06-19T05:14:46.652Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="canonical" href="https://wsdlxgp.top/posts/98ba.html"><link rel="prev" title="MySQL子查询" href="https://wsdlxgp.top/posts/b19d.html"><link rel="next" title="MySQL数据插入和复制" href="https://wsdlxgp.top/posts/e5cc.html"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?cad0cd04042fcca2c687648c42a45fc9";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  bookmark: {
    message_prev: '按',
    message_next: '键将本页加入书签'
  },
  runtime_unit: '天',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: false,
  fancybox: true,
  Snackbar: undefined,
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: true,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="Xgp & Blog" type="application/atom+xml">
</head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><canvas class="fireworks"></canvas><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/666.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">文章</div><div class="length_num">116</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">标签</div><div class="length_num">86</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">分类</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 视频</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#回想"><span class="toc-number">1.</span> <span class="toc-text">回想</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#"><span class="toc-number"></span> <span class="toc-text">查询数据</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、基本查询语句"><span class="toc-number">1.</span> <span class="toc-text">1、基本查询语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、单表查询"><span class="toc-number">2.</span> <span class="toc-text">2、单表查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-查询所有字段"><span class="toc-number">2.0.1.</span> <span class="toc-text">&lt;1&gt;查询所有字段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-在select语句中指定所有字段-根据前面select语句的格式，select关键字后面的字段名为将要查询的数据，因此可以将表中所有字段的名称跟在select子句后面，如果忘记了字段名称，可以使用DESC命令查看表的结构。有时候，由于表中的字段多，不一定能记住所有的字段名称。因此很不方便，不建议使用。"><span class="toc-number">2.0.2.</span> <span class="toc-text">&lt;2&gt;在select语句中指定所有字段 根据前面select语句的格式，select关键字后面的字段名为将要查询的数据，因此可以将表中所有字段的名称跟在select子句后面，如果忘记了字段名称，可以使用DESC命令查看表的结构。有时候，由于表中的字段多，不一定能记住所有的字段名称。因此很不方便，不建议使用。</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（1）查询指定字段"><span class="toc-number">2.1.</span> <span class="toc-text">（1）查询指定字段</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（2）查询多个字段-使用select声明，可以获取多个字段下的数据，只需要在关键字select后面指定要查询的字段的名称，不同字段名称之间用逗号分隔，最后一个字段后面不需要加逗号"><span class="toc-number">2.2.</span> <span class="toc-text">（2）查询多个字段 使用select声明，可以获取多个字段下的数据，只需要在关键字select后面指定要查询的字段的名称，不同字段名称之间用逗号分隔，最后一个字段后面不需要加逗号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（3）查询指定记录"><span class="toc-number">2.3.</span> <span class="toc-text">（3）查询指定记录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（4）带in关键字的查询"><span class="toc-number">2.4.</span> <span class="toc-text">（4）带in关键字的查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（5）带between-and的范围查询"><span class="toc-number">2.5.</span> <span class="toc-text">（5）带between and的范围查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（7）带like的字符匹配查询"><span class="toc-number">2.6.</span> <span class="toc-text">（7）带like的字符匹配查询</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-百分号（-）通配符，匹配任意长度的字符，甚至包括零字符"><span class="toc-number">2.6.1.</span> <span class="toc-text">&lt;1&gt;百分号（%）通配符，匹配任意长度的字符，甚至包括零字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-下划线（-通配符，一次只能匹配任意一个字符"><span class="toc-number">2.6.2.</span> <span class="toc-text">&lt;2&gt;下划线（__)通配符，一次只能匹配任意一个字符</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（8）查询空值"><span class="toc-number">2.7.</span> <span class="toc-text">（8）查询空值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（9）带and的多条件查询"><span class="toc-number">2.8.</span> <span class="toc-text">（9）带and的多条件查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（10）带or的多条件查询"><span class="toc-number">2.9.</span> <span class="toc-text">（10）带or的多条件查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（11）查询结果不重复"><span class="toc-number">2.10.</span> <span class="toc-text">（11）查询结果不重复</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3、对查询结果排序"><span class="toc-number">3.</span> <span class="toc-text">3、对查询结果排序</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#（1）单列排序"><span class="toc-number">3.1.</span> <span class="toc-text">（1）单列排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（2）多列排序"><span class="toc-number">3.2.</span> <span class="toc-text">（2）多列排序</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（3）指定排序方向"><span class="toc-number">3.3.</span> <span class="toc-text">（3）指定排序方向</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4、分组查询"><span class="toc-number">4.</span> <span class="toc-text">4、分组查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#（1）根据s-id对fruits表中的数据进行分组，将每个供应商的水果名称显示出来"><span class="toc-number">4.1.</span> <span class="toc-text">（1）根据s_id对fruits表中的数据进行分组，将每个供应商的水果名称显示出来</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（2）使用having过滤分组-根据s-id对fruits表中的数据进行分组，并显示水果种类大于1的分组信息"><span class="toc-number">4.2.</span> <span class="toc-text">（2）使用having过滤分组 根据s_id对fruits表中的数据进行分组，并显示水果种类大于1的分组信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（3）在group-by-子句中使用with-rollup-使用with-rollup关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。"><span class="toc-number">4.3.</span> <span class="toc-text">（3）在group by 子句中使用with rollup 使用with rollup关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（4）多字段分组-使用group-by可以对多个字段进行分组，group-by关键字后面跟需要分组的字段，MySQL根据多字段的值来进行层次分组，分组层次从左到右，即先按第1个字段分组，然后在第1个字段值相同的记录中，再根据第2个字段的值进行分组，以此类推"><span class="toc-number">4.4.</span> <span class="toc-text">（4）多字段分组 使用group by可以对多个字段进行分组，group by关键字后面跟需要分组的字段，MySQL根据多字段的值来进行层次分组，分组层次从左到右，即先按第1个字段分组，然后在第1个字段值相同的记录中，再根据第2个字段的值进行分组，以此类推</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（5）group-by和order-by一起使用-某些情况下需要对分组进行排序"><span class="toc-number">4.5.</span> <span class="toc-text">（5）group by和order by一起使用 某些情况下需要对分组进行排序</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5、使用limit限制查询结果的数量-select返回所有匹配的行，有可能是表中所有的行，如仅仅需要返回第一行或者前几行，使用limit关键字，语法格式如下：limit-位置偏移量-行数"><span class="toc-number">5.</span> <span class="toc-text">5、使用limit限制查询结果的数量 select返回所有匹配的行，有可能是表中所有的行，如仅仅需要返回第一行或者前几行，使用limit关键字，语法格式如下：limit [位置偏移量] 行数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6、使用聚合函数查询"><span class="toc-number">6.</span> <span class="toc-text">6、使用聚合函数查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#（1）count-函数"><span class="toc-number">6.1.</span> <span class="toc-text">（1）count()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（2）sum-函数"><span class="toc-number">6.2.</span> <span class="toc-text">（2）sum()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（3）avg-函数"><span class="toc-number">6.3.</span> <span class="toc-text">（3）avg()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（4）max-函数"><span class="toc-number">6.4.</span> <span class="toc-text">（4）max()函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（5）min-函数"><span class="toc-number">6.5.</span> <span class="toc-text">（5）min()函数</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#"><span class="toc-number"></span> <span class="toc-text">连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1、内连接查询"><span class="toc-number">1.</span> <span class="toc-text">1、内连接查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2、外连接查询"><span class="toc-number">2.</span> <span class="toc-text">2、外连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#创建表"><span class="toc-number">2.1.</span> <span class="toc-text">创建表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入数据"><span class="toc-number">2.2.</span> <span class="toc-text">插入数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（1）左连接"><span class="toc-number">2.3.</span> <span class="toc-text">（1）左连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（2）右连接"><span class="toc-number">2.4.</span> <span class="toc-text">（2）右连接</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3、复合条件连接查询"><span class="toc-number">3.</span> <span class="toc-text">3、复合条件连接查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4、编写SQL语句，查看年龄比“李斯文”小的学生，要求显示这些学生的信息"><span class="toc-number">4.</span> <span class="toc-text">4、编写SQL语句，查看年龄比“李斯文”小的学生，要求显示这些学生的信息</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (99).jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">Xgp &amp; Blog</a></span><span class="pull_right menus"><div id="search_button"><a class="site-page social-icon search"><i class="fa fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> 我</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> 其他</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> 视频</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">MySQL高级查询</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="发表于 2020-06-05 00:00:00"><i class="fa fa-calendar" aria-hidden="true"></i> 发表于 2020-06-05</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="更新于 2020-06-19 13:14:46"><i class="fa fa-history" aria-hidden="true"></i> 更新于 2020-06-19</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/mysql/">mysql</a></span></div><div class="meta-secondline"> <span class="post-meta-wordcount"><i class="post-meta__icon far fa-file-word" aria-hidden="true"></i><span>字数总计:</span><span class="word-count">6.2k</span><span class="post-meta__separator">|</span><i class="post-meta__icon far fa-clock" aria-hidden="true"></i><span>阅读时长: 28 分钟</span></span></div><div class="meta-thirdline"><span class="post-meta-pv-cv"><span class="post-meta__separator">|</span><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>阅读量:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h2 id="回想">回想</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select studentNo, studentName, sex, gradeName<br>from student s,grade g<br>where s.gradeId &#x3D; g.gradeID;<br>select studentNo,studentName,sex,gradeName<br>from student s join grade g<br>on s.gradeId &#x3D; g.gradeID;<br></code></pre></td></tr></table></figure>
<p>![image-20200610140605161](G:\四期\数据库\mysql文档\05 mysql通算符.assets\image-20200610140605161.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select count(1), sex from student<br>group by sex<br>HAVING sex &#x3D;&#39;男&#39;;<br></code></pre></td></tr></table></figure>
<p>![image-20200610140916671](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610140916671.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 排序<br>select * from student<br>LIMIT 4,5;<br></code></pre></td></tr></table></figure>
<p>![image-20200610141016816](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610141016816.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT * from student<br>where studentNo in (&#39;10005&#39;,&#39;10001&#39;);<br></code></pre></td></tr></table></figure>
<p>![image-20200610141245878](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610141245878.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT * from student<br>where studentNo BETWEEN 10001 and 10005;<br></code></pre></td></tr></table></figure>
<p>![image-20200610141437404](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610141437404.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from student<br>where email is null<br>and identityCard is null;<br></code></pre></td></tr></table></figure>
<p>![image-20200610141528016](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610141528016.png)</p>
<h1>查询数据</h1>
<p><strong>数据库管理系统的一个最重要的功能就是数据查询，数据查询不应只是简单查询数据库中存储的数据，还应该根据需要对数据进行筛选，以及确定数据以什么样的格式显示。MySQL提供了功能强大、灵活的语句来实现这些操作。</strong></p>
<h2 id="1、基本查询语句">1、基本查询语句</h2>
<p><strong>mysql从数据表中查询数据的基本语句为select语句。select语句的基本格式是：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">SELECT &#123;* | &lt;字段列表&gt;&#125; [ FROM &lt;表1&gt;, &lt;表2&gt;.... [ where &lt;表达式&gt; ] [ group by ] [ having ] [ order by<br>&lt;..&gt; ] [ limit &lt;...&gt; ]<br></code></pre></td></tr></table></figure>
<ul>
<li><strong>{*|&lt;字段列表&gt;}包含星号通配符选择字段列表，表示查询的字段，其中字段列至少包含一个字段名称，如果要查询多个字段，多个字段之间用逗号隔开，最后一个字段后不要加逗号。</strong></li>
<li><strong>FROM&lt;表1&gt;,&lt;表2&gt;…：表1和表2表示查询数据的来源，可以是单个或多个。</strong></li>
<li><strong>WHERE子句是可选项，如果选择该项，将限定查询必须满足的查询条件。</strong></li>
<li><strong>GROUP BY&lt;字段&gt;，该子句告诉MySQL按什么样的顺序显示查询出来的数据，可以进行的排序有：升序（asc）、降序（desc）。</strong></li>
<li><strong>[limit]，该子句告诉mysql每次显示查询出来的数据条款。</strong></li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; create table fruits<br>-&gt; (<br>-&gt; f_id char(10) not null,<br>-&gt; s_id int not null,<br>-&gt; f_name char(255) not null,<br>-&gt; f_price decimal(8,2) not null,<br>-&gt; primary key(f_id)<br>-&gt; );<br>Query OK, 0 rows affected (0.02 sec)<br>mysql&gt; insert into fruits(f_id,s_id,f_name,f_price)<br>-&gt; values(&#39;a1&#39;,101,&#39;apple&#39;,&#39;5.2&#39;),<br>-&gt; (&#39;b1&#39;,101,&#39;blackberry&#39;,&#39;10.2&#39;),<br>-&gt; (&#39;bs1&#39;,102,&#39;orange&#39;,&#39;11.2&#39;),<br>-&gt; (&#39;bs2&#39;,105,&#39;melon&#39;,&#39;8.2&#39;),<br>-&gt; (&#39;t1&#39;,102,&#39;banana&#39;,&#39;10.3&#39;),<br>-&gt; (&#39;t2&#39;,102,&#39;grape&#39;,&#39;5.3&#39;),<br>-&gt; (&#39;o2&#39;,103,&#39;coconut&#39;,&#39;9.2&#39;),<br>-&gt; (&#39;c0&#39;,101,&#39;cherry&#39;,&#39;3.2&#39;),<br>-&gt; (&#39;a2&#39;,103,&#39;apricot&#39;,&#39;2.2&#39;),<br>-&gt; (&#39;l2&#39;,104,&#39;lemon&#39;,&#39;6.4&#39;),<br>-&gt; (&#39;b2&#39;,104,&#39;berry&#39;,&#39;7.6&#39;),<br>-&gt; (&#39;m1&#39;,106,&#39;mango&#39;,&#39;15.7&#39;),<br>-&gt; (&#39;m2&#39;,105,&#39;xbabay&#39;,&#39;2.6&#39;),<br>-&gt; (&#39;t4&#39;,107,&#39;xbababa&#39;,&#39;3.6&#39;),<br>-&gt; (&#39;m3&#39;,105,&#39;xxtt&#39;,&#39;11.6&#39;),<br>-&gt; (&#39;b5&#39;,107,&#39;xxxx&#39;,&#39;3.6&#39;);<br>Query OK, 16 rows affected (0.02 sec)<br>Records: 16 Duplicates: 0 Warnings: 0<br></code></pre></td></tr></table></figure>
<h2 id="2、单表查询">2、单表查询</h2>
<p><strong>单表查询是指从一张表数据中查询所需的数据。主要有：查询所有字段、查询指定字段、查询指定记录、查询空值、多条件的查询、对查询结果进行排序等方式。</strong></p>
<h4 id="1-查询所有字段">&lt;1&gt;查询所有字段</h4>
<p><strong>在select语句中使用星号（）通配符查询所有字段。 select查询记录最简单的形式是从一个表中检索所有记录，实现的方法是使用星号（）通配符指定查找所有列的名称。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from fruits;<br></code></pre></td></tr></table></figure>
<h4 id="2-在select语句中指定所有字段-根据前面select语句的格式，select关键字后面的字段名为将要查询的数据，因此可以将表中所有字段的名称跟在select子句后面，如果忘记了字段名称，可以使用DESC命令查看表的结构。有时候，由于表中的字段多，不一定能记住所有的字段名称。因此很不方便，不建议使用。">&lt;2&gt;在select语句中指定所有字段 根据前面select语句的格式，select关键字后面的字段名为将要查询的数据，因此可以将表中所有字段的名称跟在select子句后面，如果忘记了字段名称，可以使用DESC命令查看表的结构。有时候，由于表中的字段多，不一定能记住所有的字段名称。因此很不方便，不建议使用。</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">Select f_id,s_id,f_name,f_price from fruit<br></code></pre></td></tr></table></figure>
<h3 id="（1）查询指定字段">（1）查询指定字段</h3>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select 字段名 from 表名；<br></code></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name from fruits;<br>+------------+<br>| f_name |<br>+------------+<br>| apple |<br>| apricot |<br>| blackberry |<br>| berry |<br>| xxxx |<br>| orange |<br>| melon |<br>| cherry |<br>| lemon |<br>| mango |<br>| xbabay |<br>| xxtt |<br>| coconut |<br>| banana |<br>| grape |<br>| xbababa |<br>+------------+<br>16 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（2）查询多个字段-使用select声明，可以获取多个字段下的数据，只需要在关键字select后面指定要查询的字段的名称，不同字段名称之间用逗号分隔，最后一个字段后面不需要加逗号">（2）查询多个字段 使用select声明，可以获取多个字段下的数据，只需要在关键字select后面指定要查询的字段的名称，不同字段名称之间用逗号分隔，最后一个字段后面不需要加逗号</h3>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select 字段1，字段2，字段3 ....，字段n from 表名；<br></code></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name,f_price from fruits;<br>+------------+---------+<br>| f_name | f_price |<br>+------------+---------+<br>| apple | 5.20 |<br>| apricot | 2.20 |<br>| blackberry | 10.20 |<br>| berry | 7.60 |<br>| xxxx | 3.60 |<br>| orange | 11.20 |<br>| melon | 8.20 |<br>| cherry | 3.20 |<br>| lemon | 6.40 |<br>| mango | 15.70 |<br>| xbabay | 2.60 |<br>| xxtt | 11.60 |<br>| coconut | 9.20 |<br>| banana | 10.30 |<br>| grape | 5.30 |<br>| xbababa | 3.60 |<br>+------------+---------+<br>16 rows in set (0.01 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（3）查询指定记录">（3）查询指定记录</h3>
<p><strong>数据库中包含大量的数据，根据特殊要求可能只需要查询表中的指定数据，相当于对数据的过滤。在select语句中，通过where子句可以对数据进行过滤。</strong></p>
<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select 字段1，字段2....字段n from 表名 where 查询条件；  <br></code></pre></td></tr></table></figure>
</blockquote>
<p>![image-20200613131557954](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613131557954.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name,f_price<br>-&gt; from fruits<br>-&gt; where f_price &#x3D; 10.2;<br>+------------+---------+<br>| f_name | f_price |<br>+------------+---------+<br>| blackberry | 10.20 |<br>+------------+---------+<br>1 row in set (0.01 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（4）带in关键字的查询">（4）带in关键字的查询</h3>
<p><strong>in操作符用来查询满足指定范围内的条件的记录，使用IN操作符，将所有检索条件用括号括起来，检索条件之间用逗号分隔开，只要满足条件范围内的一个值即为匹配项。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select s_id,f_name,f_price<br>-&gt; from fruits<br>-&gt; where s_id in (101,102)<br>-&gt; order by f_name;<br>+------+------------+---------+<br>| s_id | f_name | f_price |<br>+------+------------+---------+<br>| 101 | apple | 5.20 |<br>| 102 | banana | 10.30 |<br>| 101 | blackberry | 10.20 |<br>| 101 | cherry | 3.20 |<br>| 102 | grape | 5.30 |<br>| 102 | orange | 11.20 |<br>+------+------------+---------+<br>6 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（5）带between-and的范围查询">（5）带between and的范围查询</h3>
<p><strong>Between and用来查询某个范围内的值，该操作符需要两个参数，即范围的开始值和结束值，如果字段值满足指定的范围查询条件，则这些记录被返回。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name,f_price<br>-&gt; from fruits<br>-&gt; where f_price between 2.00 and 10.20;<br>+------------+---------+<br>| f_name | f_price |<br>+------------+---------+<br>| apple | 5.20 |<br>| apricot | 2.20 |<br>| blackberry | 10.20 |<br>| berry | 7.60 |<br>| xxxx | 3.60 |<br>| melon | 8.20 |<br>| cherry | 3.20 |<br>| lemon | 6.40 |<br>| xbabay | 2.60 |<br>| coconut | 9.20 |<br>| grape | 5.30 |<br>| xbababa | 3.60 |<br>+------------+---------+<br>12 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（7）带like的字符匹配查询">（7）带like的字符匹配查询</h3>
<p><strong>通配符是一种在SQL的where条件子句中拥有特殊意思的字符，SQL语句中支持多种通配符，可以和like一起使用的通配符有‘%’和‘_’。</strong></p>
<h4 id="1-百分号（-）通配符，匹配任意长度的字符，甚至包括零字符">&lt;1&gt;百分号（%）通配符，匹配任意长度的字符，甚至包括零字符</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_id,f_name<br>-&gt; from fruits<br>-&gt; where f_name like &#39;b%&#39;;<br>+------+------------+<br>| f_id | f_name |<br>+------+------------+<br>| b1 | blackberry |<br>| b2 | berry |<br>| t1 | banana |<br>+------+------------+<br>3 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h4 id="2-下划线（-通配符，一次只能匹配任意一个字符">&lt;2&gt;下划线（__)通配符，一次只能匹配任意一个字符</h4>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_id,f_name<br>-&gt; from fruits<br>-&gt; where f_name like &#39;____y&#39;;<br>+------+--------+<br>| f_id | f_name |<br>+------+--------+<br>| b2 | berry |<br>+------+--------+<br>1 row in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（8）查询空值">（8）查询空值</h3>
<p><strong>数据表创建的时候，设计者可以指定某列中是否可以包含空值（NULL)。空值不同于0，也不同于空字符串。空值一般表示数据未知、不适用或将在以后添加数据。在select语句中使用IS NULL子句，可以查询某字段内容为空的记录。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; create table customers<br>-&gt; (<br>-&gt; c_id int not null auto_increment,<br>-&gt; c_name char(50) not null,<br>-&gt; c_address char(50) null,<br>-&gt; c_city char(50) null,<br>-&gt; c_zip char(50) null,<br>-&gt; c_contact char(50) null,<br>-&gt; c_email char(50) null,<br>-&gt; primary key(c_id)<br>-&gt; );<br>Query OK, 0 rows affected (0.02 sec)<br>mysql&gt; insert into customers(c_id,c_name,c_address,c_city,c_zip,c_contact,c_email)<br>-&gt; values(10001,&#39;RedHook&#39;,&#39;200<br>Street&#39;,&#39;Tianjin&#39;,&#39;300000&#39;,&#39;LiMing&#39;,&#39;LMing@163.com&#39;),<br>-&gt; (10002,&#39;Stars&#39;,&#39;333 Fromage<br>Lane&#39;,&#39;Dalian&#39;,&#39;116000&#39;,&#39;Zhangbo&#39;,&#39;Jerry@hotmail.com&#39;),<br>-&gt; (10003,&#39;Netbhood&#39;,&#39;1 Sunny Place&#39;,&#39;Qingdao&#39;,&#39;266000&#39;,&#39;LuoCong&#39;,NULL),<br>-&gt;(10004,&#39;JOTO&#39;,&#39;829 Riverside Drive&#39;, &#39;Haikou&#39;,&#39;570000&#39;,&#39;YangShan&#39;,<br>&#39;sam@hotmail.com&#39;);<br>Query OK, 4 rows affected (0.02 sec)<br>Records: 4 Duplicates: 0 Warnings: 0<br>mysql&gt; select c_id,c_name,c_email from customers where c_email IS NULL;<br>+-------+----------+---------+<br>| c_id | c_name | c_email |<br>+-------+----------+---------+<br>| 10003 | Netbhood | NULL |<br>+-------+----------+---------+<br>1 row in set (0.01 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（9）带and的多条件查询">（9）带and的多条件查询</h3>
<p><strong>使用select查询时，可以增加查询的限制条件，这样可以使查询的结果更加精确。MySQL在where子句中使用and操作符限定只有满足所有查询条件的记录才会被返回。可以使用and连接两个甚至多个查询条件，多个条件表达式之间用and分开。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_id,f_price,f_name<br>-&gt; from fruits<br>-&gt; where s_id &#x3D; &#39;101&#39; and f_price &gt;&#x3D;5;<br>+------+---------+------------+<br>| f_id | f_price | f_name |<br>+------+---------+------------+<br>| a1 | 5.20 | apple |<br>| b1 | 10.20 | blackberry |<br>+------+---------+------------+<br>2 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（10）带or的多条件查询">（10）带or的多条件查询</h3>
<p><strong>与and相反，在where声明中使用or操作符，表示只需要满足其中一个条件的记录即可返回。or也可以连接两个甚至多个查询条件，多个条件表达式之间用or分开。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select s_id,f_name,f_price<br>-&gt; from fruits<br>-&gt; where s_id &#x3D; 101 or s_id &#x3D; 102;<br>+------+------------+---------+<br>| s_id | f_name | f_price |<br>+------+------------+---------+<br>| 101 | apple | 5.20 |<br>| 101 | blackberry | 10.20 |<br>| 102 | orange | 11.20 |<br>| 101 | cherry | 3.20 |<br>| 102 | banana | 10.30 |<br>| 102 | grape | 5.30 |<br>+------+------------+---------+<br>6 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（11）查询结果不重复">（11）查询结果不重复</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 查询不重复<br># 创建表<br>create table &#96;fruit&#96;(<br>true&#96;sid&#96; int(3) PRIMARY KEY not null,<br>true&#96;sname&#96; VARCHAR(20) not NULL,<br>true&#96;sprice&#96; FLOAT not null<br>)CHARSET &#39;utf8mb4&#39;;<br><br># 表中添加数据<br>insert into &#96;fruit&#96;(sid,sname,sprice)<br>values(100,&#39;芒果&#39;,5.00),<br>(101,&#39;苹果&#39;,5.00),<br>(102,&#39;香蕉&#39;,7.00),<br>(103,&#39;梨&#39;,6.00),<br>(104,&#39;火龙果&#39;,10.00),<br>(105,&#39;榴莲&#39;,15.00);<br><br># 查看一下<br>select * from fruit;<br></code></pre></td></tr></table></figure>
<p>![image-20200613132514405](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613132514405.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#去掉重复数据<br>select DISTINCT sprice from fruit;<br><br>select DISTINCT sex from student S join grade g<br>on s.gradeId &#x3D; g.gradeID；<br></code></pre></td></tr></table></figure>
<p>![image-20200613132441783](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613132441783.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#聚合函数<br>select max(sprice) 最高价,min(sprice),sum(sprice),avg(sprice) <br>from fruit;<br></code></pre></td></tr></table></figure>
<p>![](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613132535375.png)</p>
<h2 id="3、对查询结果排序">3、对查询结果排序</h2>
<h3 id="（1）单列排序">（1）单列排序</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name from fruits;<br>+------------+<br>| f_name |<br>+------------+<br>| apple |<br>| apricot |<br>| blackberry |<br>| berry |<br>| xxxx |<br></code></pre></td></tr></table></figure>
<h3 id="（2）多列排序">（2）多列排序</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name,f_price from fruits order by f_name,f_price;<br>+------------+---------+<br>| f_name | f_price |<br>+------------+---------+<br>| apple | 5.20 |<br>| apricot | 2.20 |<br>| banana | 10.30 |<br>| berry | 7.60 |<br>| blackberry | 10.20 |<br>| cherry | 3.20 |<br>| coconut | 9.20 |<br>| grape | 5.30 |<br>| lemon | 6.40 |<br>| mango | 15.70 |<br>| melon | 8.20 |<br>| orange | 11.20 |<br>| xbababa | 3.60 |<br>| xbabay | 2.60 |<br>| xxtt | 11.60 |<br>| xxxx | 3.60 |<br>+------------+---------+<br>16 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<p><strong>在多列进行排序的时候，首先排序的第一列必须有相同的列值，才会对第二列进行排序。如果第一列数据中所有值都是唯一的，将不再对第二列进行排序。</strong></p>
<h3 id="（3）指定排序方向">（3）指定排序方向</h3>
<p><strong>默认情况下，查询数据按字母升序进行排序（从A~Z)，但数据的排序并不仅限于此，还可以使用order by对查询结果进行降序排序（从Z~A)，这可以通过关键字DESC实现。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f_name,f_price from fruits order by f_name,f_price DESC;<br>+------------+---------+<br>| f_name | f_price |<br>+------------+---------+<br>| apple | 5.20 |<br>| apricot | 2.20 |<br>| banana | 10.30 |<br>| berry | 7.60 |<br>| blackberry | 10.20 |<br>| cherry | 3.20 |<br>| coconut | 9.20 |<br>| grape | 5.30 |<br>| lemon | 6.40 |<br>| mango | 15.70 |<br>| melon | 8.20 |<br>| orange | 11.20 |<br>| xbababa | 3.60 |<br>| xbabay | 2.60 |<br>| xxtt | 11.60 |<br>| xxxx | 3.60 |<br>+------------+---------+<br>16 rows in set (0.01 sec)<br></code></pre></td></tr></table></figure>
<p><strong>与DESC相反ASC是升序</strong></p>
<h2 id="4、分组查询">4、分组查询</h2>
<p><strong>分组插叙是对数据按照某个或多个字段进行分组，MySQL中使用group by关键字对数据进行分组，基本语法形式为：group by 字段 1、创建分组</strong></p>
<p><strong>Group by 关键字通常和集合函数一起使用，例如：MAX()、MIN()、COUNT()、SUM()、AVG()。 根据s_id对fruits表中的数据进行分组</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select s_id,count(*) as total from fruits group by s_id;<br>+------+-------+<br>| s_id | total |<br>+------+-------+<br>| 101 | 3 |<br>| 102 | 3 |<br>| 103 | 2 |<br>| 104 | 2 |<br>| 105 | 3 |<br>| 106 | 1 |<br>| 107 | 2 |<br>+------+-------+<br>7 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（1）根据s-id对fruits表中的数据进行分组，将每个供应商的水果名称显示出来"><strong>（1）根据s_id对fruits表中的数据进行分组，将每个供应商的水果名称显示出来</strong></h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select s_id,group_concat(f_name) as name from fruits group by s_id;<br>+------+-------------------------+<br>| s_id | name |<br>+------+-------------------------+<br>| 101 | apple,blackberry,cherry |<br>| 102 | orange,banana,grape |<br>| 103 | apricot,coconut |<br>| 104 | berry,lemon |<br>| 105 | melon,xbabay,xxtt |<br>| 106 | mango |<br>| 107 | xxxx,xbababa |<br>+------+-------------------------+<br>7 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（2）使用having过滤分组-根据s-id对fruits表中的数据进行分组，并显示水果种类大于1的分组信息">（2）使用having过滤分组 根据s_id对fruits表中的数据进行分组，并显示水果种类大于1的分组信息</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select s_id,group_concat(f_name) as name from fruits group by s_id having<br>count(f_name) &gt; 1;<br>+------+-------------------------+<br>| s_id | name |<br>+------+-------------------------+<br>| 101 | apple,blackberry,cherry |<br>| 102 | orange,banana,grape |<br>| 103 | apricot,coconut |<br>| 104 | berry,lemon |<br>| 105 | melon,xbabay,xxtt |<br>| 107 | xxxx,xbababa |<br>+------+-------------------------+<br>6 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（3）在group-by-子句中使用with-rollup-使用with-rollup关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。">（3）在group by 子句中使用with rollup 使用with rollup关键字之后，在所有查询出的分组记录之后增加一条记录，该记录计算查询出的所有记录的总和，即统计记录数量。</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select s_id,count(*) as total<br>-&gt; from fruits<br>-&gt; group by s_id with rollup;<br>+------+-------+<br>| s_id | total |<br>+------+-------+<br>| 101 | 3 |<br>| 102 | 3 |<br>| 103 | 2 |<br>| 104 | 2 |<br>| 105 | 3 |<br>| 106 | 1 |<br>| 107 | 2 |<br>| NULL | 16 |<br>+------+-------+<br>8 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（4）多字段分组-使用group-by可以对多个字段进行分组，group-by关键字后面跟需要分组的字段，MySQL根据多字段的值来进行层次分组，分组层次从左到右，即先按第1个字段分组，然后在第1个字段值相同的记录中，再根据第2个字段的值进行分组，以此类推">（4）多字段分组 使用group by可以对多个字段进行分组，group by关键字后面跟需要分组的字段，MySQL根据多字段的值来进行层次分组，分组层次从左到右，即先按第1个字段分组，然后在第1个字段值相同的记录中，再根据第2个字段的值进行分组，以此类推</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from fruits group by s_id,f_name;<br>+------+------+------------+---------+<br>| f_id | s_id | f_name | f_price |<br>+------+------+------------+---------+<br>| a1 | 101 | apple | 5.20 |<br>| b1 | 101 | blackberry | 10.20 |<br>| c0 | 101 | cherry | 3.20 |<br>| t1 | 102 | banana | 10.30 |<br>| t2 | 102 | grape | 5.30 |<br>| bs1 | 102 | orange | 11.20 |<br>| a2 | 103 | apricot | 2.20 |<br>| o2 | 103 | coconut | 9.20 |<br>| b2 | 104 | berry | 7.60 |<br>| l2 | 104 | lemon | 6.40 |<br>| bs2 | 105 | melon | 8.20 |<br>| m2 | 105 | xbabay | 2.60 |<br>| m3 | 105 | xxtt | 11.60 |<br>| m1 | 106 | mango | 15.70 |<br>| t4 | 107 | xbababa | 3.60 |<br>| b5 | 107 | xxxx | 3.60 |<br>+------+------+------------+---------+<br>16 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（5）group-by和order-by一起使用-某些情况下需要对分组进行排序">（5）group by和order by一起使用 某些情况下需要对分组进行排序</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; create table orderitems<br>-&gt; (<br>-&gt; o_num int not null,<br>-&gt; o_item int not null,<br>-&gt; f_id char(10) not null,<br>-&gt; quantity int not null,<br>-&gt; item_price decimal(8,2) not null,<br>-&gt; primary key(o_num,o_item)<br>-&gt; );<br>Query OK, 0 rows affected (0.03 sec)<br><br>mysql&gt; insert into orderitems(o_num,o_item,f_id,quantity,item_price)<br>-&gt; values(30001,1,&#39;a1&#39;,10,&#39;5.2&#39;),<br>-&gt; (30001,2,&#39;b2&#39;,3,&#39;7.6&#39;),<br>-&gt; (30001,3,&#39;bs1&#39;,5,&#39;11.2&#39;),<br>-&gt; (30001,4,&#39;bs2&#39;,15,&#39;9.2&#39;),<br>-&gt; (30002,1,&#39;b3&#39;,2,&#39;20.0&#39;),<br>-&gt; (30003,1,&#39;c0&#39;,100,10),<br>-&gt; (30004,1,&#39;o2&#39;,50,&#39;2.50&#39;),<br>-&gt; (30005,1,&#39;c0&#39;,5,&#39;10&#39;),<br>-&gt; (30005,2,&#39;b1&#39;,10,&#39;8.99&#39;),<br>-&gt; (30005,3,&#39;a2&#39;,10,&#39;2.2&#39;),<br>-&gt; (30005,4,&#39;m1&#39;,5,&#39;14.99&#39;);<br>Query OK, 11 rows affected (0.00 sec)<br>Records: 11 Duplicates: 0 Warnings: 0<br></code></pre></td></tr></table></figure>
<p><strong>查询价格大于100的订单号和总价订单价格</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select o_num,sum(quantity*item_price) as ordertotal<br>-&gt; from orderitems<br>-&gt; group by o_num<br>-&gt; having sum(quantity*item_price) &gt;&#x3D; 100;<br>+-------+------------+<br>| o_num | ordertotal |<br>+-------+------------+<br>| 30001 | 268.80 |<br>| 30003 | 1000.00 |<br>| 30004 | 125.00 |<br>| 30005 | 236.85 |<br>+-------+------------+<br>4 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h2 id="5、使用limit限制查询结果的数量-select返回所有匹配的行，有可能是表中所有的行，如仅仅需要返回第一行或者前几行，使用limit关键字，语法格式如下：limit-位置偏移量-行数">5、使用limit限制查询结果的数量 select返回所有匹配的行，有可能是表中所有的行，如仅仅需要返回第一行或者前几行，使用limit关键字，语法格式如下：limit [位置偏移量] 行数</h2>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select * from fruits limit 4;<br>+------+------+------------+---------+<br>| f_id | s_id | f_name | f_price |<br>+------+------+------------+---------+<br>| a1 | 101 | apple | 5.20 |<br>| a2 | 103 | apricot | 2.20 |<br>| b1 | 101 | blackberry | 10.20 |<br>| b2 | 104 | berry | 7.60 |<br>+------+------+------------+---------+<br>4 rows in set (0.02 sec)<br>mysql&gt; select * from fruits limit 4,3;<br>+------+------+--------+---------+<br>| f_id | s_id | f_name | f_price |<br>+------+------+--------+---------+<br>| b5 | 107 | xxxx | 3.60 |<br>| bs1 | 102 | orange | 11.20 |<br>| bs2 | 105 | melon | 8.20 |<br>+------+------+--------+---------+<br>3 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h2 id="6、使用聚合函数查询">6、使用聚合函数查询</h2>
<p>![image-20200613133729764](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613133729764.png)</p>
<h3 id="（1）count-函数">（1）count()函数</h3>
<p><strong>Count()函数统计数据表中包含的记录行的总数，或者根据查询结果返回列中包含的数据行数。 Count(*)计算表中总的函数，不管某列有数列或者为空值 Count(字段名)计算指定列下总的行数，计算时将忽略空值的行</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select count(*) as cust_num<br>-&gt; from customers;<br>+----------+<br>| cust_num |<br>+----------+<br>| 4 |<br>+----------+<br>1 row in set (0.00 sec)<br>mysql&gt; select count(c_email) as email_num<br>-&gt; from customers;<br>+-----------+<br>| email_num |<br>+-----------+<br>| 3 |<br>+-----------+<br>1 row in set (0.00 sec)<br>mysql&gt; select o_num,count(f_id)<br>-&gt; from orderitems<br>-&gt; group by o_num;<br>+-------+-------------+<br>| o_num | count(f_id) |<br>+-------+-------------+<br>| 30001 | 4 |<br>| 30002 | 1 |<br>| 30003 | 1 |<br>| 30004 | 1 |<br>| 30005 | 4 |<br>+-------+-------------+<br>5 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（2）sum-函数">（2）sum()函数</h3>
<p><strong>sum()是一个求总和的函数，返回指定列值得总和。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select sum(quantity) as items_total<br>-&gt; from orderitems<br>-&gt; where o_num &#x3D; 30005;<br>+-------------+<br>| items_total |<br>+-------------+<br>| 30 |<br>+-------------+<br>1 row in set (0.01 sec)<br>mysql&gt; select o_num,sum(quantity) as items_total<br>-&gt; from orderitems<br>-&gt; group by o_num;<br>+-------+-------------+<br>| o_num | items_total |<br>+-------+-------------+<br>| 30001 | 33 |<br>| 30002 | 2 |<br>| 30003 | 100 |<br>| 30004 | 50 |<br>| 30005 | 30 |<br>+-------+-------------+<br>5 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<p><strong>注意：sum()函数在计算时，忽略列值为NULL的行。</strong></p>
<h3 id="（3）avg-函数">（3）avg()函数</h3>
<p><strong>avg()函数通过计算返回的行数和每一行数据的和，求得指定列数据的平均值。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select avg(f_price) as avg_price<br>-&gt; from fruits<br>-&gt; where s_id&#x3D;103;<br>+-----------+<br>| avg_price |<br>+-----------+<br>| 5.700000 |<br>+-----------+<br>1 row in set (0.00 sec)<br>mysql&gt; select avg(f_price) as avg_price<br>-&gt; from fruits<br>-&gt; where s_id&#x3D;103;<br>+-----------+<br>| avg_price |<br>+-----------+<br>| 5.700000 |<br>+-----------+<br>1 row in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（4）max-函数">（4）max()函数</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select max(f_price) as max_price from fruits;<br>+-----------+<br>| max_price |<br>+-----------+<br>| 15.70 |<br>+-----------+<br>1 row in set (0.00 sec)<br>mysql&gt; select s_id,max(f_price) as max_price<br>-&gt; from fruits<br>-&gt; group by s_id;<br>+------+-----------+<br>| s_id | max_price |<br>+------+-----------+<br>| 101 | 10.20 |<br>| 102 | 11.20 |<br>| 103 | 9.20 |<br>| 104 | 7.60 |<br>| 105 | 11.60 |<br>| 106 | 15.70 |<br>| 107 | 3.60 |<br>+------+-----------+<br>7 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h3 id="（5）min-函数">（5）min()函数</h3>
<p><strong>min()返回查询列中的最小值</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select min(f_price) as min_price from fruits;<br>+-----------+<br>| min_price |<br>+-----------+<br>| 2.20 |<br>+-----------+<br>1 row in set (0.00 sec)<br>mysql&gt; select s_id,min(f_price) as max_price from fruits group by s_id;<br>+------+-----------+<br>| s_id | max_price |<br>+------+-----------+<br>| 101 | 3.20 |<br>| 102 | 5.30 |<br>| 103 | 2.20 |<br>| 104 | 6.40 |<br>| 105 | 2.60 |<br>| 106 | 15.70 |<br>| 107 | 3.60 |<br>+------+-----------+<br>7 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h1>连接查询</h1>
<p><strong>连接是关系数据库模型的主要特点。连接查询是关系数据库中最主要的查询，主要包括内连接、外连接。通过连接运算符可以实现多个表查询。在关系数据库管理系统中，表建立时各数据之间的关系不必确定，常把一个实体的所有信息存放在一个表中。当查询数据时，通过连接操作查询出存放在多个表中的不同实体的信息。当两个或多个表现中存在相同意义的字段时，便可以通过这些字段对不同的表进行连接查询。</strong></p>
<h2 id="1、内连接查询">1、内连接查询</h2>
<p><strong>内连接（inner join）使用比较运算符进行表间某些列数据的比较操作，并列出这些表中与连接条件相匹配的数据行，组合成新纪录，也就是说，在内连接查询中，只有满足条件的记录才能出现在结果关系中。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; create table suppliers<br>-&gt; (<br>-&gt; s_id int not null auto_increment,<br>-&gt; s_name char(50) not null,<br>-&gt; s_city char(50) null,<br>-&gt; s_zip char(10) null,<br>-&gt; s_call char(50) not null,<br>-&gt; primary key(s_id)<br>-&gt; );<br>Query OK, 0 rows affected (0.02 sec)<br>mysql&gt; insert into suppliers(s_id,s_name,s_city,s_zip,s_call)<br>-&gt; values(101,&#39;FastFruit Inc.&#39;,&#39;tianjin&#39;,&#39;300000&#39;,&#39;48075&#39;),<br>-&gt; (102,&#39;LT Supplies&#39;,&#39;chongqing&#39;,&#39;400000&#39;,&#39;44333&#39;),<br>-&gt; (103,&#39;acme&#39;,&#39;shanghai&#39;,&#39;200000&#39;,&#39;90046&#39;),<br>-&gt; (104,&#39;fnk inc.&#39;,&#39;zhongshan&#39;,&#39;528437&#39;,&#39;11111&#39;),<br>-&gt; (105,&#39;good set&#39;,&#39;taiyuang&#39;,&#39;030000&#39;,&#39;22222&#39;),<br>-&gt; (106,&#39;just eat ours&#39;,&#39;beijing&#39;,&#39;010&#39;,&#39;45678&#39;),<br>-&gt; (107,&#39;dk inc.&#39;,&#39;zhengzhou&#39;,&#39;450000&#39;,&#39;33332&#39;);<br>Query OK, 7 rows affected (0.01 sec)<br>Records: 7 Duplicates: 0 Warnings: 0<br>mysql&gt; select suppliers.s_id,s_name,f_name,f_price<br>-&gt; from fruits ,suppliers<br>-&gt; where fruits.s_id &#x3D; suppliers.s_id;<br>+------+----------------+------------+---------+<br>| s_id | s_name | f_name | f_price |<br>+------+----------------+------------+---------+<br>| 101 | FastFruit Inc. | apple | 5.20 |<br>| 103 | acme | apricot | 2.20 |<br>| 101 | FastFruit Inc. | blackberry | 10.20 |<br>| 104 | fnk inc. | berry | 7.60 |<br>| 107 | dk inc. | xxxx | 3.60 |<br>| 102 | LT Supplies | orange | 11.20 |<br>| 105 | good set | melon | 8.20 |<br>| 101 | FastFruit Inc. | cherry | 3.20 |<br>| 104 | fnk inc. | lemon | 6.40 |<br>| 106 | just eat ours | mango | 15.70 |<br>| 105 | good set | xbabay | 2.60 |<br>| 105 | good set | xxtt | 11.60 |<br>| 103 | acme | coconut | 9.20 |<br>| 102 | LT Supplies | banana | 10.30 |<br>| 102 | LT Supplies | grape | 5.30 |<br>| 107 | dk inc. | xbababa | 3.60 |<br>+------+----------------+------------+---------+<br>16 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<p><strong>如果在一个连接查询中，涉及的两个表都是同一个表，这种查询称为自连接查询。自连接是一种特殊的内连接，它是指相互连接的表在物理上为同一张表，但可以在逻辑上分为两张表</strong> 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">mysql&gt; select f1.f_id,f1.f_name<br>-&gt; from fruits as f1, fruits as f2<br>-&gt; where f1.s_id &#x3D; f2.s_id and f2.f_id &#x3D; &#39;a1&#39;;<br>+------+------------+<br>| f_id | f_name |<br>+------+------------+<br>| a1 | apple |<br>| b1 | blackberry |<br>| c0 | cherry |<br>+------+------------+<br>3 rows in set (0.00 sec)<br></code></pre></td></tr></table></figure>
<h2 id="2、外连接查询">2、外连接查询</h2>
<blockquote>
<p><strong>外连接查询将将查询多个表中相关联的行，内连接时，返回查询结果集合中的仅是符合查询条件和连接条件的行。但有时候需要包含没有关联的行中数据，即返回查询结果集合中的不仅包含符合连接条件的行，而且还包含左表（左外连接或左连接）、右表（右外连接或右连接）或两个连接表（全外连接）中的所有数据行。外连接分为左外连接或左连接和右外连接或右连接。</strong></p>
</blockquote>
<p><strong>Left join（左连接）：返回包括左表中的所有记录和右表中连接字段相等的记录。</strong></p>
<p><strong>Right join（右连接）：返回包括右表中的所有记录和左表中连接字段相等的记录。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 左连接<br>select * from student s<br>LEFT JOIN grade g<br>on s.gradeId &#x3D; g.gradeID;<br><br># 右连接<br>select * from student s<br>RIGHT JOIN grade g<br>on s.gradeId &#x3D; g.gradeID;<br></code></pre></td></tr></table></figure>
<p>![image-20200613134628052](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613134628052.png)</p>
<h3 id="创建表">创建表</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table orders(<br>  o_num int not null auto_increment,<br>  o_date datetime not null,<br>  c_id int not null,<br>  primary key(o_num)<br>);<br><br>insert into orders(o_num,o_date,c_id)<br>values(30001,&#39;2008-09-01&#39;,10001),<br>(30002,&#39;2008-09-12&#39;,10003),<br>(30003,&#39;2008-09-30&#39;,10004),<br>(30004,&#39;2008-10-03&#39;,10005),<br>(30005,&#39;2008-10-08&#39;,10001);<br><br>create table customers(<br>  c_id int not null auto_increment,<br>  c_name char(50) not null,<br>  c_address char(50) null,<br>  c_city char(50) null,<br>  c_zip char(50) null,<br>  c_contact char(50) null,<br>  c_email char(50) null,<br>  primary key(c_id)<br>);<br></code></pre></td></tr></table></figure>
<h3 id="插入数据">插入数据</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs mysql">insert into customers(c_id,c_name,c_address,c_city,c_zip,c_contact,c_email)<br>values(10001,&#39;RedHook&#39;,&#39;200Street&#39;,&#39;Tianjin&#39;,&#39;300000&#39;,&#39;LiMing&#39;,&#39;LMing@163.com&#39;),<br>(10002,&#39;Stars&#39;,&#39;333 Fromage Lane&#39;,&#39;Dalian&#39;,&#39;116000&#39;,&#39;Zhangbo&#39;,&#39;Jerry@hotmail.com&#39;),<br>(10003,&#39;Netbhood&#39;,&#39;1 Sunny Place&#39;,&#39;Qingdao&#39;,&#39;266000&#39;,&#39;LuoCong&#39;,NULL),<br>(10004,&#39;JOTO&#39;,&#39;829 Riverside Drive&#39;, &#39;Haikou&#39;,&#39;570000&#39;,&#39;YangShan&#39;,&#39;sam@hotmail.com&#39;);<br><br><br>select * from customers;<br>select * from orders;<br></code></pre></td></tr></table></figure>
<p>![image-20200613135037758](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613135037758.png)</p>
<p>![image-20200613135042714](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200613135042714.png)</p>
<h3 id="（1）左连接">（1）左连接</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 左外连接<br>select c.c_id,o.o_num from customers c<br>LEFT OUTER JOIN orders o<br>on c.c_id &#x3D; o.c_id;<br></code></pre></td></tr></table></figure>
<p>![image-20200610151134872](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610151134872.png)</p>
<h3 id="（2）右连接">（2）右连接</h3>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 右外连接<br>select c.c_id,o.o_num from customers c<br>RIGHT  OUTER JOIN orders o<br>on c.c_id &#x3D; o.c_id;<br></code></pre></td></tr></table></figure>
<p>![image-20200610151240505](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610151240505.png)</p>
<h2 id="3、复合条件连接查询">3、复合条件连接查询</h2>
<p><strong>复合条件连接查询是在连接查询的过程中，通过添加过滤条件，限制查询的结果，使查询的结果更加准确。</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select c.c_id,o.o_num from customers c<br>LEFT OUTER JOIN orders o<br>on c.c_id &#x3D; o.c_id<br>and c.c_id&#x3D;10001;<br></code></pre></td></tr></table></figure>
<p>![image-20200610152148735](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610152148735.png)</p>
<h2 id="4、编写SQL语句，查看年龄比“李斯文”小的学生，要求显示这些学生的信息">4、编写SQL语句，查看年龄比“李斯文”小的学生，要求显示这些学生的信息</h2>
<p>![image-20200610162453310](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610162453310.png)</p>
<blockquote>
<p><strong>第一步:查询得到“李斯文”的出生日期</strong></p>
<p><strong>第二步:利用WHERE语句，筛选出生日期比“李斯文”大的学生</strong></p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql"># 请查找出年龄比李斯文小的学生<br>select bornDate from student<br>where studentName &#x3D; &#39;李斯文&#39;;<br></code></pre></td></tr></table></figure>
<p>![image-20200610163928028](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610163928028.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select studentName,bornDate from student<br>where bornDate&gt;&#39;1993-07-23&#39;;<br></code></pre></td></tr></table></figure>
<p>![image-20200610163937508](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610163937508.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select studentName,bornDate from student<br>where bornDate&gt;(<br>  select bornDate from student<br>    where studentName &#x3D; &#39;李斯文&#39;<br>);<br></code></pre></td></tr></table></figure>
<p>![image-20200610163937508](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610163937508.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs mysql">DROP TABLE IF EXISTS 666;<br>create database &#96;666&#96;;<br>use &#96;666&#96;<br><br>drop table if exists &#96;t&#96;;<br>CREATE TABLE &#96;ttt&#96;(<br>true&#96;sid&#96; int (4) not null PRIMARY KEY,<br>  &#96;sname&#96; VARCHAR(20) not null<br>)CHARSET &#x3D; &#39;utf8mb4&#39;;<br><br>select * from ttt<br></code></pre></td></tr></table></figure>
<p>![image-20200610165549705](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200610165549705.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table tb1(<br>truenum1 int not null<br>);<br>insert into tb1 values(1),(5),(13),(27);<br>select * from tb1;<br></code></pre></td></tr></table></figure>
<p>![image-20200611161645057](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200611161645057.png)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs mysql">create table tb2(<br>truenum2 int not null<br>);<br>insert into tb2 values(6),(14),(11),(20);<br>select * from tb2;<br></code></pre></td></tr></table></figure>
<p>![image-20200611161650169](G:\四期\数据库\mysql文档\05 mysql高级查询.assets\image-20200611161650169.png)</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Wu Shao Dong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://wsdlxgp.top/posts/98ba.html">https://wsdlxgp.top/posts/98ba.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://wsdlxgp.top" target="_blank">Xgp & Blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/sql%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5/">sql结构化查询语句</a><a class="post-meta__tags" href="/tags/%E6%95%B0%E5%80%BC%E7%B1%BB%E5%9E%8B/">数值类型</a></div><div class="post_share"><div class="social-share" data-image="http://xgp-cunchu.test.upcdn.net/k8s/323507 拷贝.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> 打赏<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="http://xgp-cunchu.test.upcdn.net/k8s/3.jpg" alt="微信"/><div class="post-qr-code__desc">微信</div></li><li class="reward-item"><img class="post-qr-code__img" src="http://xgp-cunchu.test.upcdn.net/k8s/1.jpg" alt="支付寶"/><div class="post-qr-code__desc">支付寶</div></li><li class="reward-item"><img class="post-qr-code__img" src="http://xgp-cunchu.test.upcdn.net/k8s/2.jpg" alt="QQ支付"/><div class="post-qr-code__desc">QQ支付</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/posts/b19d.html"><img class="prev_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (100).jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">MySQL子查询</div></div></a></div><div class="next-post pull_right"><a href="/posts/e5cc.html"><img class="next_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (98).jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">MySQL数据插入和复制</div></div></a></div></nav><div class="relatedPosts"><div class="relatedPosts_headline"><i class="fa fa-fw fa-thumbs-up" aria-hidden="true"></i><span> 相关推荐</span></div><div class="relatedPosts_list"><div class="relatedPosts_item"><a href="/posts/b19d.html" title="MySQL子查询"><img class="relatedPosts_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (100).jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-06-19</div><div class="relatedPosts_title">MySQL子查询</div></div></a></div><div class="relatedPosts_item"><a href="/posts/a0ec.html" title="MySQL视图"><img class="relatedPosts_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (101).jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-06-19</div><div class="relatedPosts_title">MySQL视图</div></div></a></div><div class="relatedPosts_item"><a href="/posts/8338.html" title="MySQL索引"><img class="relatedPosts_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (102).jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-06-19</div><div class="relatedPosts_title">MySQL索引</div></div></a></div><div class="relatedPosts_item"><a href="/posts/b0d5.html" title="MySQL 事务(1)"><img class="relatedPosts_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (103).jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-06-19</div><div class="relatedPosts_title">MySQL 事务(1)</div></div></a></div><div class="relatedPosts_item"><a href="/posts/40d5.html" title="MySQL 事务(2)"><img class="relatedPosts_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (104).jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-06-19</div><div class="relatedPosts_title">MySQL 事务(2)</div></div></a></div><div class="relatedPosts_item"><a href="/posts/22c1.html" title="MySQL用户管理（1）"><img class="relatedPosts_cover" src="https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (105).jpg"><div class="relatedPosts_main is-center"><div class="relatedPosts_date"><i class="fa fa-history fa-fw" aria-hidden="true"></i> 2020-06-19</div><div class="relatedPosts_title">MySQL用户管理（1）</div></div></a></div></div><div class="clear_both"></div></div><hr><div id="post-comment"><div class="comment_headling"><i class="fa fa-comments fa-fw" aria-hidden="true"></i><span> 评论</span></div><div id="lv-container" data-id="city" data-uid="MTAyMC80OTM0NS8yNTgzNw=="><script>(function(d, s) {
    var j, e = d.getElementsByTagName(s)[0];
    if (typeof LivereTower === 'function') { return; }
    j = d.createElement(s);
    j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
    j.async = true;
    e.parentNode.insertBefore(j, e);
})(document, 'script');</script></div></div></article></main><footer id="footer" style="background-image: url(https://gitee.com/xgpqq/tuchuang/raw/master/img/5 (99).jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2020 By Wu Shao Dong</div><div class="framework-info"><span>驱动 </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="ypy"><a href="https://console.upyun.com/services/file/" target="_blank" rel="noopener"><img class="icp-icon" src="/img/1591433700(1).png"/><span></span></a></div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="阅读模式"></i><i class="fa fa-plus" id="font_plus" title="放大字体"></i><i class="fa fa-minus" id="font_minus" title="缩小字体"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="简繁转换" target="_self">繁</a><i class="darkmode far fa-moon" id="darkmode" title="夜间模式"></i></div><div id="rightside-config-show"><div id="rightside_config" title="设置"><i class="fa fa-cog" aria-hidden="true"></i></div><a id="to_comment" href="#post-comment" title="直达评论"><i class="scroll_to_comment fa fa-comments">  </i></a><i class="fa fa-list-ul close" id="mobile-toc-button" title="目录" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="回到顶部" aria-hidden="true"></i></div></section><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="/js/third-party/fireworks.js"></script><script id="ribbon_piao" mobile="false" src="/js/third-party/piao.js"></script><script id="canvas_nest" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="/js/third-party/canvas-nest.js"></script><script src="/js/third-party/activate-power-mode.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
document.body.addEventListener('input', POWERMODE);
</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@3/instantpage.min.js" type="module"></script><script src="/js/search/local-search.js"></script><script>var endLoading = function () {
  document.body.style.overflow = 'auto';
  document.getElementById('loading-box').classList.add("loaded")
}
window.addEventListener('load',endLoading)</script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>